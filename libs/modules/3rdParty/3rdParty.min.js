!function(){function e(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function t(e,t){void 0===Date.prototype[e]&&(Date.prototype[e]=t)}var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={su:0,sun:0,sunday:0,mo:1,mon:1,monday:1,tu:2,tue:2,tuesday:2,we:3,wed:3,wednesday:3,th:4,thu:4,thursday:4,fr:5,fri:5,friday:5,sa:6,sat:6,saturday:6},a=r.concat(n),u=["su","sun","sunday","mo","mon","monday","tu","tue","tuesday","we","wed","wednesday","th","thu","thursday","fr","fri","friday","sa","sat","saturday"],l={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11},h=[31,28,31,30,31,30,31,31,30,31,30,31],f=function(e){return e.match(/^(\d+)$/)?!0:!1},c=function(e,t,n,r){for(var i=r;i>=n;i--){var o=e.substring(t,t+i);if(o.length<n)return null;if(f(o))return o}return null},d=Date.parse,g=function(e,t){e+="",t+="";for(var n,r,i=0,o=0,s="",l="",h=new Date,f=h.getYear(),d=h.getMonth()+1,g=1,v=0,m=0,D=0,y="";o<t.length;){for(s=t.charAt(o),l="";t.charAt(o)===s&&o<t.length;)l+=t.charAt(o++);if("yyyy"===l||"yy"===l||"y"===l){if("yyyy"===l&&(n=4,r=4),"yy"===l&&(n=2,r=2),"y"===l&&(n=2,r=4),f=c(e,i,n,r),null===f)return 0/0;i+=f.length,2===f.length&&(f=f>70?1900+(f-0):2e3+(f-0))}else if("MMM"===l||"NNN"===l){d=0;for(var M=0;M<a.length;M++){var p=a[M];if(e.substring(i,i+p.length).toLowerCase()===p.toLowerCase()&&("MMM"===l||"NNN"===l&&M>11)){d=M+1,d>12&&(d-=12),i+=p.length;break}}if(1>d||d>12)return 0/0}else if("EE"===l||"E"===l)for(var T=0;T<u.length;T++){var C=u[T];if(e.substring(i,i+C.length).toLowerCase()===C.toLowerCase()){i+=C.length;break}}else if("MM"===l||"M"===l){if(d=c(e,i,l.length,2),null===d||1>d||d>12)return 0/0;i+=d.length}else if("dd"===l||"d"===l){if(g=c(e,i,l.length,2),null===g||1>g||g>31)return 0/0;i+=g.length}else if("hh"===l||"h"===l){if(v=c(e,i,l.length,2),null===v||1>v||v>12)return 0/0;i+=v.length}else if("HH"===l||"H"===l){if(v=c(e,i,l.length,2),null===v||0>v||v>23)return 0/0;i+=v.length}else if("KK"===l||"K"===l){if(v=c(e,i,l.length,2),null===v||0>v||v>11)return 0/0;i+=v.length}else if("kk"===l||"k"===l){if(v=c(e,i,l.length,2),null===v||1>v||v>24)return 0/0;i+=v.length,v--}else if("mm"===l||"m"===l){if(m=c(e,i,l.length,2),null===m||0>m||m>59)return 0/0;i+=m.length}else if("ss"===l||"s"===l){if(D=c(e,i,l.length,2),null===D||0>D||D>59)return 0/0;i+=D.length}else if("a"===l){if("am"===e.substring(i,i+2).toLowerCase())y="AM";else{if("pm"!==e.substring(i,i+2).toLowerCase())return 0/0;y="PM"}i+=2}else{if(e.substring(i,i+l.length)!==l)return 0/0;i+=l.length}}if(i!==e.length)return 0/0;if(2===d)if(f%4===0&&f%100!==0||f%400===0){if(g>29)return 0/0}else if(g>28)return 0/0;if((4===d||6===d||9===d||11===d)&&g>30)return 0/0;12>v&&"PM"===y?v=v-0+12:v>11&&"AM"===y&&(v-=12);var w=new Date(f,d-1,g,v,m,D);return w.getTime()};Date.parse=function(e,t){if(t)return g(e,t);var n,r=d(e),i=0;return isNaN(r)&&(n=/^(\d{4}|[+\-]\d{6})-(\d{2})-(\d{2})(?:[T ](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?))?/.exec(e))&&("Z"!==n[8]&&(i=60*+n[10]+ +n[11],"+"===n[9]&&(i=0-i)),n[7]=n[7]||"000",r=Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5]+i,+n[6],+n[7].substr(0,3))),r},Date.today=function(){return(new Date).clearTime()},Date.UTCtoday=function(){return(new Date).clearUTCTime()},Date.tomorrow=function(){return Date.today().add({days:1})},Date.UTCtomorrow=function(){return Date.UTCtoday().add({days:1})},Date.yesterday=function(){return Date.today().add({days:-1})},Date.UTCyesterday=function(){return Date.UTCtoday().add({days:-1})},Date.validateDay=function(e,t,n){var r=new Date(t,n,e);return r.getFullYear()===t&&r.getMonth()===n&&r.getDate()===e},Date.validateYear=function(e){return e>=0&&9999>=e},Date.validateSecond=function(e){return e>=0&&60>e},Date.validateMonth=function(e){return e>=0&&12>e},Date.validateMinute=function(e){return e>=0&&60>e},Date.validateMillisecond=function(e){return e>=0&&1e3>e},Date.validateHour=function(e){return e>=0&&24>e},Date.compare=function(e,t){return e.valueOf()<t.valueOf()?-1:e.valueOf()>t.valueOf()?1:0},Date.equals=function(e,t){return e.valueOf()===t.valueOf()},Date.equalsDay=function(e,t){return e.toYMD()===t.toYMD()},Date.getDayNumberFromName=function(e){return s[e.toLowerCase()]},Date.getMonthNumberFromName=function(e){return l[e.toLowerCase()]},Date.getMonthNameFromNumber=function(e){return r[e]},Date.getMonthAbbrFromNumber=function(e){return n[e]},Date.isLeapYear=function(e){return 29===new Date(e,1,29).getDate()},Date.getDaysInMonth=function(e,t){return 1===t?Date.isLeapYear(e)?29:28:h[t]},t("getMonthAbbr",function(){return n[this.getMonth()]}),t("getMonthName",function(){return r[this.getMonth()]}),t("getLastMonthName",function(){var e=this.getMonth();return e=0==e?11:e-1,r[e]}),t("getUTCOffset",function(){var t=e(Math.abs(this.getTimezoneOffset()/.6),4);return this.getTimezoneOffset()>0&&(t="-"+t),t}),t("toCLFString",function(){return e(this.getDate(),2)+"/"+this.getMonthAbbr()+"/"+this.getFullYear()+":"+e(this.getHours(),2)+":"+e(this.getMinutes(),2)+":"+e(this.getSeconds(),2)+" "+this.getUTCOffset()}),t("toYMD",function(t){return t="undefined"==typeof t?"-":t,this.getFullYear()+t+e(this.getMonth()+1,2)+t+e(this.getDate(),2)}),t("toDBString",function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1,2)+"-"+e(this.getUTCDate(),2)+" "+e(this.getUTCHours(),2)+":"+e(this.getUTCMinutes(),2)+":"+e(this.getUTCSeconds(),2)}),t("clearTime",function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this}),t("clearUTCTime",function(){return this.setUTCHours(0),this.setUTCMinutes(0),this.setUTCSeconds(0),this.setUTCMilliseconds(0),this}),t("add",function(e){return void 0!==e.milliseconds&&this.setMilliseconds(this.getMilliseconds()+e.milliseconds),void 0!==e.seconds&&this.setSeconds(this.getSeconds()+e.seconds),void 0!==e.minutes&&this.setMinutes(this.getMinutes()+e.minutes),void 0!==e.hours&&this.setHours(this.getHours()+e.hours),void 0!==e.days&&this.setDate(this.getDate()+e.days),void 0!==e.weeks&&this.setDate(this.getDate()+7*e.weeks),void 0!==e.months&&this.setMonth(this.getMonth()+e.months),void 0!==e.years&&this.setFullYear(this.getFullYear()+e.years),this}),t("addMilliseconds",function(e){return this.add({milliseconds:e})}),t("addSeconds",function(e){return this.add({seconds:e})}),t("addMinutes",function(e){return this.add({minutes:e})}),t("addHours",function(e){return this.add({hours:e})}),t("addDays",function(e){return this.add({days:e})}),t("addWeeks",function(e){return this.add({days:7*e})}),t("addMonths",function(e){return this.add({months:e})}),t("addYears",function(e){return this.add({years:e})}),t("remove",function(e){return void 0!==e.seconds&&this.setSeconds(this.getSeconds()-e.seconds),void 0!==e.minutes&&this.setMinutes(this.getMinutes()-e.minutes),void 0!==e.hours&&this.setHours(this.getHours()-e.hours),void 0!==e.days&&this.setDate(this.getDate()-e.days),void 0!==e.weeks&&this.setDate(this.getDate()-7*e.weeks),void 0!==e.months&&this.setMonth(this.getMonth()-e.months),void 0!==e.years&&this.setFullYear(this.getFullYear()-e.years),this}),t("removeMilliseconds",function(e){throw new Error("Not implemented")}),t("removeSeconds",function(e){return this.remove({seconds:e})}),t("removeMinutes",function(e){return this.remove({minutes:e})}),t("removeHours",function(e){return this.remove({hours:e})}),t("removeDays",function(e){return this.remove({days:e})}),t("removeWeeks",function(e){return this.remove({days:7*e})}),t("removeMonths",function(e){return this.remove({months:e})}),t("removeYears",function(e){return this.remove({years:e})}),t("addWeekdays",function(e){var t=this.getDay();0===t&&(t=7);var n=e,r=Math.floor((e+t-1)/5);return e>0?(n+=2*r,t>5&&(n-=t-5)):(n+=Math.min(2*r,0),t>6&&(n-=1)),this.addDays(n)}),t("setTimeToNow",function(){var e=new Date;this.setMilliseconds(e.getMilliseconds()),this.setSeconds(e.getSeconds()),this.setMinutes(e.getMinutes()),this.setHours(e.getHours())}),t("clone",function(){return new Date(this.valueOf())}),t("between",function(e,t){return this.valueOf()>=e.valueOf()&&this.valueOf()<=t.valueOf()}),t("compareTo",function(e){return Date.compare(this,e)}),t("equals",function(e){return Date.equals(this,e)}),t("equalsDay",function(e){return Date.equalsDay(this,e)}),t("isToday",function(){return Date.equalsDay(this,Date.today())}),t("isAfter",function(e){return e=e?e:new Date,this.compareTo(e)>0}),t("isBefore",function(e){return e=e?e:new Date,this.compareTo(e)<0}),t("isWeekend",function(e){return this.getDay()%6===0}),t("getDaysBetween",function(e){return(e.clone().valueOf()-this.valueOf())/864e5|0}),t("getHoursBetween",function(e){return(e.clone().valueOf()-this.valueOf())/36e5|0}),t("getMinutesBetween",function(e){return(e.clone().valueOf()-this.valueOf())/6e4|0}),t("getSecondsBetween",function(e){return(e.clone().valueOf()-this.valueOf())/1e3|0}),t("getMillisecondsBetween",function(e){return e.clone().valueOf()-this.valueOf()|0}),t("getMonthsBetween",function(e){var t,n,r=Math.ceil(new Date(e-this).getUTCDate()/31),i=new Date(this.getTime()),o=Date.getDaysInMonth;for(i.setUTCMonth(i.getUTCMonth()+r);i.getTime()<e.getTime();)i.setUTCMonth(i.getUTCMonth()+1),r++;return i.getTime()!==e.getTime()&&(i.setUTCMonth(i.getUTCMonth()-1),r--),e.getUTCMonth()===i.getUTCMonth()?(t=new Date(e-i).getUTCDate(),n=o(i.getUTCFullYear(),i.getUTCMonth()),r+t/n):(n=o(i.getUTCFullYear(),i.getUTCMonth()),t=n-i.getUTCDate()+1,r+ +(t/n).toFixed(5)+ +(e.getUTCDate()/o(e.getUTCFullYear(),e.getUTCMonth())).toFixed(5))}),t("getOrdinalNumber",function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1}),t("toFormat",function(e){return v(e,m(this))}),t("toUTCFormat",function(e){return v(e,D(this))}),t("getWeekNumber",function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)}),t("getFullWeekNumber",function(){var e=""+this.getWeekNumber();return 1===e.length&&(e="0"+e),e});var v=function(e,t){var n,r,i,o=[e],s=function(e,t){for(var n,r,i,s=0,a=o.length,u=[];a>s;s++)if("string"==typeof o[s]){for(i=o[s].split(e),n=0,r=i.length-1;r>n;n++)u.push(i[n]),u.push([t]);u.push(i[r])}else u.push(o[s]);o=u};for(n in t)s(n,t[n]);for(i="",n=0,r=o.length;r>n;n++)i+="string"==typeof o[n]?o[n]:o[n][0];return o.join("")},m=function(t){var s=t.getHours()%12?t.getHours()%12:12;return{YYYY:t.getFullYear(),YY:String(t.getFullYear()).slice(-2),MMMM:r[t.getMonth()],MMM:n[t.getMonth()],MM:e(t.getMonth()+1,2),MI:e(t.getMinutes(),2),M:t.getMonth()+1,DDDD:o[t.getDay()],DDD:i[t.getDay()],DD:e(t.getDate(),2),D:t.getDate(),HH24:e(t.getHours(),2),HH:e(s,2),H:s,SS:e(t.getSeconds(),2),PP:t.getHours()>=12?"PM":"AM",P:t.getHours()>=12?"pm":"am",LL:e(t.getMilliseconds(),3)}},D=function(t){var s=t.getUTCHours()%12?t.getUTCHours()%12:12;return{YYYY:t.getUTCFullYear(),YY:String(t.getUTCFullYear()).slice(-2),MMMM:r[t.getUTCMonth()],MMM:n[t.getUTCMonth()],MM:e(t.getUTCMonth()+1,2),MI:e(t.getUTCMinutes(),2),M:t.getUTCMonth()+1,DDDD:o[t.getUTCDay()],DDD:i[t.getUTCDay()],DD:e(t.getUTCDate(),2),D:t.getUTCDate(),HH24:e(t.getUTCHours(),2),HH:e(s,2),H:s,SS:e(t.getUTCSeconds(),2),PP:t.getUTCHours()>=12?"PM":"AM",P:t.getUTCHours()>=12?"pm":"am",LL:e(t.getUTCMilliseconds(),3)}}}(),Date.setStandard=function(e){var t=this;t._serverDate=e?new Date(e):new Date,t._dateToGotServerDate=new Date},Date.newDate=function(e){var t=this;if(e)return new Date(e);t._serverDate||t.setStandard();var n=(new Date).getTime(),r=t._serverDate.getTime()+n-t._dateToGotServerDate.getTime();return new Date(r)},Date.setStandard,Date.newDate,function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,o,s,a){return t(n(t(t(r,e),t(o,a)),s),i)}function i(e,t,n,i,o,s,a){return r(t&n|~t&i,e,t,o,s,a)}function o(e,t,n,i,o,s,a){return r(t&i|n&~i,e,t,o,s,a)}function s(e,t,n,i,o,s,a){return r(t^n^i,e,t,o,s,a)}function a(e,t,n,i,o,s,a){return r(n^(t|~i),e,t,o,s,a)}function u(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var r,u,l,h,f,c=1732584193,d=-271733879,g=-1732584194,v=271733878;for(r=0;r<e.length;r+=16)u=c,l=d,h=g,f=v,c=i(c,d,g,v,e[r],7,-680876936),v=i(v,c,d,g,e[r+1],12,-389564586),g=i(g,v,c,d,e[r+2],17,606105819),d=i(d,g,v,c,e[r+3],22,-1044525330),c=i(c,d,g,v,e[r+4],7,-176418897),v=i(v,c,d,g,e[r+5],12,1200080426),g=i(g,v,c,d,e[r+6],17,-1473231341),d=i(d,g,v,c,e[r+7],22,-45705983),c=i(c,d,g,v,e[r+8],7,1770035416),v=i(v,c,d,g,e[r+9],12,-1958414417),g=i(g,v,c,d,e[r+10],17,-42063),d=i(d,g,v,c,e[r+11],22,-1990404162),c=i(c,d,g,v,e[r+12],7,1804603682),v=i(v,c,d,g,e[r+13],12,-40341101),g=i(g,v,c,d,e[r+14],17,-1502002290),d=i(d,g,v,c,e[r+15],22,1236535329),c=o(c,d,g,v,e[r+1],5,-165796510),v=o(v,c,d,g,e[r+6],9,-1069501632),g=o(g,v,c,d,e[r+11],14,643717713),d=o(d,g,v,c,e[r],20,-373897302),c=o(c,d,g,v,e[r+5],5,-701558691),v=o(v,c,d,g,e[r+10],9,38016083),g=o(g,v,c,d,e[r+15],14,-660478335),d=o(d,g,v,c,e[r+4],20,-405537848),c=o(c,d,g,v,e[r+9],5,568446438),v=o(v,c,d,g,e[r+14],9,-1019803690),g=o(g,v,c,d,e[r+3],14,-187363961),d=o(d,g,v,c,e[r+8],20,1163531501),c=o(c,d,g,v,e[r+13],5,-1444681467),v=o(v,c,d,g,e[r+2],9,-51403784),g=o(g,v,c,d,e[r+7],14,1735328473),d=o(d,g,v,c,e[r+12],20,-1926607734),c=s(c,d,g,v,e[r+5],4,-378558),v=s(v,c,d,g,e[r+8],11,-2022574463),g=s(g,v,c,d,e[r+11],16,1839030562),d=s(d,g,v,c,e[r+14],23,-35309556),c=s(c,d,g,v,e[r+1],4,-1530992060),v=s(v,c,d,g,e[r+4],11,1272893353),g=s(g,v,c,d,e[r+7],16,-155497632),d=s(d,g,v,c,e[r+10],23,-1094730640),c=s(c,d,g,v,e[r+13],4,681279174),v=s(v,c,d,g,e[r],11,-358537222),g=s(g,v,c,d,e[r+3],16,-722521979),d=s(d,g,v,c,e[r+6],23,76029189),c=s(c,d,g,v,e[r+9],4,-640364487),v=s(v,c,d,g,e[r+12],11,-421815835),g=s(g,v,c,d,e[r+15],16,530742520),d=s(d,g,v,c,e[r+2],23,-995338651),c=a(c,d,g,v,e[r],6,-198630844),v=a(v,c,d,g,e[r+7],10,1126891415),g=a(g,v,c,d,e[r+14],15,-1416354905),d=a(d,g,v,c,e[r+5],21,-57434055),c=a(c,d,g,v,e[r+12],6,1700485571),v=a(v,c,d,g,e[r+3],10,-1894986606),g=a(g,v,c,d,e[r+10],15,-1051523),d=a(d,g,v,c,e[r+1],21,-2054922799),c=a(c,d,g,v,e[r+8],6,1873313359),v=a(v,c,d,g,e[r+15],10,-30611744),g=a(g,v,c,d,e[r+6],15,-1560198380),d=a(d,g,v,c,e[r+13],21,1309151649),c=a(c,d,g,v,e[r+4],6,-145523070),v=a(v,c,d,g,e[r+11],10,-1120210379),g=a(g,v,c,d,e[r+2],15,718787259),d=a(d,g,v,c,e[r+9],21,-343485551),c=t(c,u),d=t(d,l),g=t(g,h),v=t(v,f);return[c,d,g,v]}function l(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){return l(u(h(e),8*e.length))}function c(e,t){var n,r,i=h(e),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=u(i,8*e.length)),n=0;16>n;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=u(o.concat(h(t)),512+8*t.length),l(u(s.concat(r),640))}function d(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function g(e){return unescape(encodeURIComponent(e))}function v(e){return f(g(e))}function m(e){return d(v(e))}function D(e,t){return c(g(e),g(t))}function y(e,t){return d(D(e,t))}function M(e,t,n){return t?n?D(t,e):y(t,e):n?v(e):m(e)}"function"==typeof define&&define.amd?define(function(){return M}):e.md5=M}(this);var mo=mo||{};mo.md5=function(){return md5.apply(null,arguments)};var crypt=crypt||{};!function(e){var t=function(e,t){for(var i="",o=0;o<t.length;o++){var s=t.charCodeAt(o),a=String.fromCharCode(n(e,s));i+=a}return r(i)},n=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t^=r}return t};e.enCharCode=t;var r=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);t.push(r)}return JSON.stringify(t)}}(crypt);var path;!function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=e.length,r="",i=0;n>i;i++)r=r+(""==r?"":"/")+e[i];return r=r.replace(/\\\\$/,""),r=r.replace(/\\$/,""),r=r.replace(/[\/]+$/,"/")}function n(e){var t=/(\.[^\.\/\?\\]*)(\?.*)?$/.exec(e);return t?t[1]:null}function r(e,t){var n=e.indexOf("?");n>0&&(e=e.substring(0,n));var r;if(e.match(/(\/|\\\\)/)){var i=/(\/|\\\\)([^(\/|\\\\)]+)$/g,o=i.exec(e.replace(/(\/|\\\\)$/,""));if(!o)return null;r=o[2]}else r=e;return t&&e.substring(e.length-t.length).toLowerCase()==t.toLowerCase()?r.substring(0,r.length-t.length):r}function i(e){var t=e.replace(/(\/|\\\\)$/,"").replace(/(\/|\\\\)[^(\/|\\\\)]+$/,"");return t==e?"":t}function o(e,t){return e=e.replace(/\\/g,"/"),e=e.replace(/[\/]+/g,"/"),t=t.replace(/\\/g,"/"),t=t.replace(/[\/]+/g,"/"),e.lastIndexOf("/")!=e.length-1&&(e+="/"),e==t||e.substring(0,e.length-1)==t?"./":0!=t.indexOf(e)?(console.error("路径【%s】无法到【%s】进行相对路径处理，请检查！",t,e),null):t.substring(e.length)}e.join=t,e.extname=n,e.basename=r,e.dirname=i,e.relative=o}(path||(path={}));var path2;!function(e){function t(e,t){t=t||"";var n=e.indexOf("?"),r="";return n>0&&(r=e.substring(n),e=e.substring(0,n)),n=e.lastIndexOf("."),0>n?e+t+r:e.substring(0,n)+t+r}function n(e,t,n){if(0==t.indexOf("."))return this.changeExtname(e,t);var r=e.indexOf("?"),i="",o=n?this.extname(e):"";return r>0&&(i=e.substring(r),e=e.substring(0,r)),r=e.lastIndexOf("/"),r=0>=r?0:r+1,e.substring(0,r)+t+o+i}e.changeExtname=t,e.changeBasename=n}(path2||(path2={}));var process;!function(e){function t(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];egret.callLater(function(){e.apply(t,n)},null)}e.nextTick=t}(process||(process={}));var async;!function(e){function t(e,t,n){var r=new s(e,1,function(e,t,r){e.call(n,r)},t,n);r.flow()}function n(e,t,n){var r=new s(e,0,function(e,t,r){e.call(n,r)},t,n);r.flow()}function r(e,t,n){var r=[],i=new s(e,1,function(e,t,i){r.push(function(e){r=Array.prototype.slice.apply(arguments),r.splice(0,1),i.apply(null,arguments)}),e.apply(n,r)},function(e,r){return t?e?t.call(n,e):void t.call(n,null,r[r.length-1]):void 0},null);i.flow()}function i(e,t,n,r){var i=new s(e,0,t,n,r);i.flow()}function o(e,t,n,r,i){var o=new s(e,t,n,r,i);o.flow()}var s=function(){function e(e,t,n,r,i){this._srcObj=null,this._limit=0,this._pool=[],this._iterator=null,this._iteratorCtx=null,this._onEnd=null,this._onEndCtx=null,this._results=null,this._isErr=!1,this.size=0,this.finishedSize=0,this._workingSize=0;var o=this;o._srcObj=e,o._iterator=n,o._iteratorCtx=i,o._onEnd=r,o._onEndCtx=i,o._results=e instanceof Array?[]:{},o._each(e,function(e,t){o._pool.push({index:t,value:e})}),o.size=o._pool.length,o._limit=t||o.size}var t=(__define,e),n=t.prototype;return n._each=function(e,t,n){if(e)if(e instanceof Array){for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r)===!1)return}else for(var o in e)if(t.call(n,e[o],o)===!1)return},n.onIterator=function(e,t){this._iterator=e,this._iteratorCtx=t},n.onEnd=function(e,t){this._onEnd=e,this._onEndCtx=t},n._handleItem=function(){var e=this;if(0!=e._pool.length&&!(e._workingSize>=e._limit)){var t=e._pool.shift(),n=t.value,r=t.index;e._workingSize++,e._iterator.call(e._iteratorCtx,n,r,function(t){if(!e._isErr){if(e.finishedSize++,e._workingSize--,t)return e._isErr=!0,void(e._onEnd&&e._onEnd.call(e._onEndCtx,t));var n=Array.prototype.slice.call(arguments);return n.splice(0,1),e._results[this.index]=n[0],e.finishedSize==e.size?void(e._onEnd&&e._onEnd.call(e._onEndCtx,null,e._results)):void("undefined"!=typeof process?process.nextTick(e._handleItem,e):"undefined"!=typeof egret&&null!=egret.setTimeout?egret.setTimeout(function(){e._handleItem()},this,1):setTimeout(function(){e._handleItem()},1))}}.bind(t),e)}},n.flow=function(){var e=this,t=function(){if(0==e._pool.length)e._onEnd&&e._onEnd.call(e._onEndCtx,null,[]);else for(var t=0;t<e._limit;t++)e._handleItem()};"undefined"!=typeof process?process.nextTick(t,e):"undefined"!=typeof egret&&null!=egret.setTimeout?egret.setTimeout(function(){t()},this,1):setTimeout(function(){t()},1)},e}();e.AsyncPool=s,egret.registerClass(s,"async.AsyncPool"),e.series=t,e.parallel=n,e.waterfall=r,e.map=i,e.mapLimit=o}(async||(async={}));