var g_home;!function(e){var o=function(e){function o(){e.apply(this,arguments)}__extends(o,e);var n=(__define,o),t=n.prototype;return t._initProp=function(){e.prototype._initProp.call(this);var o=this;o.registerClassByKey(gd.UserCtrl,gc.dsConsts.UserEntity.redPointData.toString(),o.checkRedPoint)},t._childrenCreated=function(){e.prototype._childrenCreated.call(this);var o=this;o.img_redGuild.visible=!1;var n=o.moduleParam.subModuleId;switch(n){case g_consts.HS_SUBMID_EQUIP_COPY:o._tap_btn_equip_copy();break;case g_consts.HS_SUBMID_BOSS_COPY:o._tap_btn_pvboss();break;case g_consts.HS_SUBMID_STATE_COPY:o._tap_btn_state_copy();break;case g_consts.HS_SUBMID_VIP_COPY:mo.moduleMgr.runModule(g_consts.moduleId.vipCopy,o.moduleParam);break;case g_consts.HS_SUBMID_ARENA_SHOP:mo.moduleMgr.runModule(g_consts.moduleId.arenaShop);break;case g_consts.HS_SUBMID_ARENA:o._tap_btn_arena();break;case g_consts.HS_SUBMID_GUILD:gd.guildCtrl.getInfo(function(e){var n=e[0];n?mo.moduleMgr.runModule(g_consts.moduleId.guildMineLayer,{bossId:o.moduleParam.bossId}):mo.moduleMgr.runModule(g_consts.moduleId.guildListLayer)},o);break;case g_consts.HS_SUBMID_KING:o._tap_btn_king();break;case g_consts.HS_SUBMID_COFFERS_SERVER:mo.moduleMgr.runModule(g_consts.moduleId.coffersServer,o.moduleParam);break;case g_consts.HS_SUBMID_GUILD_COPY_BOSS:mo.moduleMgr.runModule(g_consts.moduleId.guildCopyBoss,{section:o.moduleParam.section});break;case g_consts.HS_SUBMID_TOWER:o._tap_btn_pagoda()}},t.onTouch=function(e){var o=this;"touchBegin"==e.type?e.target==o.btn_arena?o.img_arena.visible=!0:e.target==o.btn_guild?o.img_guild.visible=!0:e.target==o.btn_king?o.img_King.visible=!0:e.target==o.btn_copy?o.img_copy.visible=!0:e.target==o.btn_coffer?o.img_coffer.visible=!0:e.target==o.btn_gang?o.img_gang.visible=!0:e.target==o.btn_pagoda&&(o.img_Pagoda.visible=!0):"touchMove"==e.type?e.target==o.btn_arena?o.img_arena.visible=!1:e.target==o.btn_guild?o.img_guild.visible=!1:e.target==o.btn_king?o.img_King.visible=!1:e.target==o.btn_copy?o.img_copy.visible=!1:e.target==o.btn_coffer?o.img_coffer.visible=!1:e.target==o.btn_gang?o.img_gang.visible=!1:e.target==o.btn_pagoda&&(o.img_Pagoda.visible=!1):"touchEnd"==e.type&&(e.target==o.btn_arena?o.img_arena.visible=!1:e.target==o.btn_guild?o.img_guild.visible=!1:e.target==o.btn_king?o.img_King.visible=!1:e.target==o.btn_copy?o.img_copy.visible=!1:e.target==o.btn_coffer?o.img_coffer.visible=!1:e.target==o.btn_gang?o.img_gang.visible=!1:e.target==o.btn_pagoda&&(o.img_Pagoda.visible=!1))},t.onExit=function(){var e=this;e.btn_arena.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_king.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_guild.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_copy.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_coffer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_gang.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_pagoda.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_arena.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_king.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_guild.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_copy.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_coffer.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_gang.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_pagoda.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_arena.removeEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_king.removeEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_guild.removeEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_copy.removeEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_coffer.removeEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_gang.removeEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_pagoda.removeEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e)},t.onEnter=function(){e.prototype.onEnter.call(this);var o=this;o.checkRedPoint()},t.checkRedPoint=function(){var e=this;e.img_redArena.visible=gd.pointCtrl.isShow(gc.c_prop.pointRedKey.arena1),e.img_redCopy.visible=gd.pointCtrl.isShow(gc.c_prop.pointRedKey.copy_boss),e.img_redKing.visible=!1,e.btn_arena.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_king.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_guild.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_copy.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_coffer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_gang.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_pagoda.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouch,e),e.btn_arena.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_king.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_guild.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_copy.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_coffer.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_gang.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_pagoda.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.onTouch,e),e.btn_arena.addEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_king.addEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_guild.addEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_copy.addEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_coffer.addEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_gang.addEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e),e.btn_pagoda.addEventListener(egret.TouchEvent.TOUCH_END,e.onTouch,e)},t._tap_btn_equip_copy=function(){mo.moduleMgr.runModule(g_consts.moduleId.equipCopy)},t._tap_btn_pvboss=function(){mo.moduleMgr.runModule(g_consts.moduleId.bossCopy)},t._tap_btn_state_copy=function(){mo.moduleMgr.runModule(g_consts.moduleId.stateCopy)},t._tap_btn_arena=function(){mo.moduleMgr.runModule(g_consts.moduleId.arena)},t._tap_btn_guild=function(){var e=this;gd.guildCtrl.getInfo(function(e){var o=e[0];o?mo.moduleMgr.runModule(g_consts.moduleId.guildMineLayer):mo.moduleMgr.runModule(g_consts.moduleId.guildListLayer)},e)},t._tap_btn_king=function(){mo.moduleMgr.runModule(g_consts.moduleId.king)},t._tap_btn_copy=function(){mo.moduleMgr.runModule(g_consts.moduleId.copyEntry)},t._tap_btn_gang=function(){mo.moduleMgr.runModule(g_consts.moduleId.coffersServer)},t._tap_btn_coffer=function(){mo.moduleMgr.runModule(g_consts.moduleId.coffers)},t._tap_btn_pagoda=function(){mo.moduleMgr.runModule(g_consts.moduleId.tower)},t._tap_btn_villian=function(){mo.moduleMgr.runModule(g_consts.moduleId.villian)},t._tap_btn_back=function(){mo.moduleMgr.runModule(g_consts.moduleId.fight)},o}(mo.gui.Layer);e.HomeBg=o,egret.registerClass(o,"g_home.HomeBg")}(g_home||(g_home={}));var g_home;!function(e){logger.initLogger(e,"g-home"),logger.setLvl("g-home",4);var o=function(o){function n(){o.apply(this,arguments)}__extends(n,o);var t=(__define,n),r=t.prototype;return r.show=function(){var n=this;o.prototype.show.call(this),g_base.modIdx=1;var t=e.HomeBg.create();t.moduleParam=n.moduleParam,t.show(),g_mid.HomeMidBar.create().show();var r=g_mid.HomeBottomBar.create();r.moduleParam=n.moduleParam,r.show(),g_mid.BaseMidBar.create().show(),g_base.BaseBottomBar.create().show(),g_base.BaseTopBar.create("HomeScene").show()},r.openSubModule=function(e,o){var n=this;switch(e){case g_consts.HS_SUBMID_DAILY:mo.moduleMgr.runModule(g_consts.moduleId.taskDlg);break;case g_consts.HS_SUBMID_SIGN:mo.moduleMgr.runModule(g_consts.moduleId.fuliDlg);break;case g_consts.HS_SUBMID_VIP_COPY:mo.moduleMgr.runModule(g_consts.moduleId.vipCopy,n.moduleParam);break;case g_consts.HS_SUBMID_EQUIP_COPY:mo.moduleMgr.runModule(g_consts.moduleId.equipCopy);break;case g_consts.HS_SUBMID_BOSS_COPY:mo.moduleMgr.runModule(g_consts.moduleId.bossCopy);break;case g_consts.HS_SUBMID_STATE_COPY:mo.moduleMgr.runModule(g_consts.moduleId.stateCopy);break;case g_consts.HS_SUBMID_ARENA_SHOP:mo.moduleMgr.runModule(g_consts.moduleId.arenaShop);break;case g_consts.HS_SUBMID_ARENA:mo.moduleMgr.runModule(g_consts.moduleId.arena);break;case g_consts.HS_SUBMID_GUILD:gd.guildCtrl.getInfo(function(e){var n=e[0];n?mo.moduleMgr.runModule(g_consts.moduleId.guildMineLayer,o):mo.moduleMgr.runModule(g_consts.moduleId.guildListLayer)},n);break;case g_consts.HS_SUBMID_KING:mo.moduleMgr.runModule(g_consts.moduleId.king);break;case g_consts.HS_SUBMID_COFFERS_SERVER:mo.moduleMgr.runModule(g_consts.moduleId.coffersServer,o);break;case g_consts.HS_SUBMID_GUILD_COPY_BOSS:mo.moduleMgr.runModule(g_consts.moduleId.guildCopyBoss,{section:o.section});break;case g_consts.HS_SUBMID_TOWER:mo.moduleMgr.runModule(g_consts.moduleId.tower);break;case g_consts.HS_SUBMID_HEART:mo.moduleMgr.runModule(g_consts.moduleId.heart)}},n}(mo.gui.UIScene);e.HomeScene=o,egret.registerClass(o,"g_home.HomeScene"),egret.Boot.once(egret.Boot.AFTER_CONFIG,function(){var e=new mo.ModuleCfgItem;e.targetClass=o,e.onValid(function(e){var o,n=mo.getJSONWithFileName(gc.cfg_c_open);return e&&0==e.subModuleId?o=n[gc.id_c_open.equipCopy][gc.c_open_lvlRequired]:e&&1==e.subModuleId?o=n[gc.id_c_open.bossCopy][gc.c_open_lvlRequired]:e&&2==e.subModuleId?o=n[gc.id_c_open.reamCopy][gc.c_open_lvlRequired]:e&&3==e.subModuleId?o=n[gc.id_c_open.stoneShop][gc.c_open_lvlRequired]:e&&4==e.subModuleId&&(o=n[gc.id_c_open.arena][gc.c_open_lvlRequired]),null!=o&&o>gd.userCtrl.getLvl()?(mo.showMsg(gc.id_c_msgCode.noRoleLvl,o),!1):!0}),e.onPreAsync(function(e,o){o()}),mo.moduleMgr.registerModule(e)})}(g_home||(g_home={}));